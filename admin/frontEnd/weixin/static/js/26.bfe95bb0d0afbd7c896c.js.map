{"version":3,"sources":["webpack:///static/js/26.bfe95bb0d0afbd7c896c.js","webpack:///./src/views/login/index.vue?cd60","webpack:///src/views/login/index.vue","webpack:///./src/views/login/index.vue","webpack:///./src/views/login/index.vue?e93a","webpack:///./src/views/login/index.vue?7177"],"names":["webpackJsonp","01zB","module","exports","__webpack_require__","content","i","locals","Ls/h","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_0_mint_ui_lib_toast_style_css__","__WEBPACK_IMPORTED_MODULE_1_mint_ui_lib_toast__","n","__WEBPACK_IMPORTED_MODULE_1_mint_ui_lib_toast___default","__WEBPACK_IMPORTED_MODULE_2_mint_ui_lib_indicator_style_css__","__WEBPACK_IMPORTED_MODULE_3_mint_ui_lib_indicator__","__WEBPACK_IMPORTED_MODULE_3_mint_ui_lib_indicator___default","__WEBPACK_IMPORTED_MODULE_4_queryString__","__WEBPACK_IMPORTED_MODULE_4_queryString___default","name","data","mobile","verify_coder","is_disabled","code_lefttime","sendVerifyText","code_timeer","methods","check","doLogin","self","this","a","open","axios","post","api","mobileLogin","stringify","then","res","close","status","first_login","ToastObj","error","setTimeout","$router","push","path","query","user_id","instance","redirect","decodeURIComponent","$route","catch","err","console","log","sendVerify","_this","sendMobileVerify","leftTimeFun","clearTimeout","watch","slice","T+/8","injectStyle","ssrContext","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_index_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_36094241_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_preprocessor_engine_pug_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_index_vue__","normalizeComponent","__vue_styles__","Component","c+GN","render","_vm","_h","$createElement","_c","_self","staticClass","directives","rawName","expression","attrs","type","maxlength","placeholder","domProps","on","input","$event","target","composing","click","_v","staticRenderFns","esExports","fu40","version","sources","names","mappings","file","sourcesContent","sourceRoot"],"mappings":"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","file":"static/js/26.bfe95bb0d0afbd7c896c.js","sourcesContent":["webpackJsonp([26],{\n\n/***/ \"01zB\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"fu40\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"XkoO\")(\"8c4be866\", content, true);\n\n/***/ }),\n\n/***/ \"Ls/h\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_mint_ui_lib_toast_style_css__ = __webpack_require__(\"34+y\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_mint_ui_lib_toast_style_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_mint_ui_lib_toast_style_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_mint_ui_lib_toast__ = __webpack_require__(\"X+yh\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_mint_ui_lib_toast___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_mint_ui_lib_toast__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_mint_ui_lib_indicator_style_css__ = __webpack_require__(\"qONS\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_mint_ui_lib_indicator_style_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_mint_ui_lib_indicator_style_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_mint_ui_lib_indicator__ = __webpack_require__(\"UQTY\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_mint_ui_lib_indicator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_mint_ui_lib_indicator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_queryString__ = __webpack_require__(\"sG0F\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_queryString___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_queryString__);\n\n\n\n\n\n\n// import { $checkAction } from '@/assets/js/fanweUnity';\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    name: 'loginIndex',\n    data: function data() {\n        return {\n            mobile: '',\n            verify_coder: '',\n            is_disabled: false,\n            code_lefttime: 0,\n            sendVerifyText: '验证',\n            code_timeer: null\n        };\n    },\n\n    methods: {\n        check: function check() {\n            // if($checkAction.checkEmpty(this.mobile)) {\n            //     Toast('请输入手机号码');\n            //     return false;\n            // }\n            // if(! $checkAction.checkMobilePhone(this.mobile)) {\n            //     Toast('请输入有效的手机号码');\n            //     return false;\n            // }\n            // else if($checkAction.checkEmpty(this.verify_coder)) {\n            //     Toast('请输入验证码');\n            //     return false;\n            // }\n            // else {\n            //     return true;\n            // }\n        },\n        doLogin: function doLogin() {\n            // if(this.check()) {\n            var self = this;\n            __WEBPACK_IMPORTED_MODULE_3_mint_ui_lib_indicator___default.a.open();\n            self.axios.post(self.api.mobileLogin(), __WEBPACK_IMPORTED_MODULE_4_queryString___default.a.stringify({\n                mobile: self.mobile,\n                verify_coder: self.verify_coder\n            })).then(function (res) {\n                __WEBPACK_IMPORTED_MODULE_3_mint_ui_lib_indicator___default.a.close();\n                if (res.data.status == 1) {\n                    if (res.data.first_login) {\n                        // 用户首次登录，更新信息\n                        var ToastObj = __WEBPACK_IMPORTED_MODULE_1_mint_ui_lib_toast___default()(res.data.error);\n                        setTimeout(function () {\n                            ToastObj.close();\n                            self.$router.push({\n                                path: '/login/register',\n                                query: {\n                                    user_id: res.data.user_id\n                                }\n                            });\n                        }, 1000);\n                    } else {\n                        var instance = __WEBPACK_IMPORTED_MODULE_1_mint_ui_lib_toast___default()(res.data.error || '操作成功');\n                        var redirect = decodeURIComponent(self.$route.query.redirect || '/'); // 重定向url\n                        setTimeout(function () {\n                            instance.close();\n                            self.$router.push({\n                                path: redirect\n                            });\n                        }, 1000);\n                    }\n                } else {\n                    __WEBPACK_IMPORTED_MODULE_1_mint_ui_lib_toast___default()(res.data.error || '操作失败');\n                }\n            }).catch(function (err) {\n                console.log(err);\n            });\n            // }\n        },\n        sendVerify: function sendVerify() {\n            var _this = this;\n\n            if (this.is_disabled) {\n                return;\n            }\n            this.axios.post(this.api.sendMobileVerify(), __WEBPACK_IMPORTED_MODULE_4_queryString___default.a.stringify({\n                mobile: this.mobile\n            })).then(function (res) {\n                if (res.data.status == 1) {\n                    __WEBPACK_IMPORTED_MODULE_1_mint_ui_lib_toast___default()('验证码已发送');\n                    // 验证码倒计时\n                    _this.code_lefttime = 60;\n                    _this.leftTimeFun();\n                } else {\n                    __WEBPACK_IMPORTED_MODULE_1_mint_ui_lib_toast___default()(res.data.error || '请求出错');\n                }\n            });\n        },\n        leftTimeFun: function leftTimeFun() {\n            // 验证码倒计时\n            clearTimeout(this.code_timeer);\n            this.sendVerifyText = '\\u91CD\\u65B0\\u53D1\\u9001 ' + this.code_lefttime;\n            this.code_lefttime--;\n            if (this.code_lefttime > 0) {\n                this.is_disabled = true;\n                this.code_timeer = setTimeout(function () {\n                    this.leftTimeFun();\n                }, 1000);\n            } else {\n                this.code_lefttime = 60;\n                this.is_disabled = false;\n                this.sendVerifyText = \"发送验证码\";\n            }\n        }\n    },\n    watch: {\n        mobile: function mobile() {\n            // 手机数限制11位\n            this.mobile = this.mobile.slice(0, 11);\n        }\n    }\n});\n\n/***/ }),\n\n/***/ \"T+/8\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_index_vue__ = __webpack_require__(\"Ls/h\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_36094241_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_preprocessor_engine_pug_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_index_vue__ = __webpack_require__(\"c+GN\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"01zB\")\n}\nvar normalizeComponent = __webpack_require__(\"J0+h\")\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-36094241\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_script_index_0_index_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_index_id_data_v_36094241_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_13_0_4_vue_loader_lib_template_compiler_preprocessor_engine_pug_node_modules_vue_loader_13_0_4_vue_loader_lib_selector_type_template_index_0_index_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"c+GN\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"login-index\"\n  }, [_c('div', {\n    staticClass: \"form-group form-group-mobile\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.mobile),\n      expression: \"mobile\"\n    }],\n    attrs: {\n      \"type\": \"number\",\n      \"maxlength\": \"11\",\n      \"placeholder\": \"请输入您的手机号码\"\n    },\n    domProps: {\n      \"value\": (_vm.mobile)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.mobile = $event.target.value\n      }\n    }\n  }), _c('span', {\n    staticClass: \"btn-send-verify\",\n    on: {\n      \"click\": _vm.sendVerify\n    }\n  }, [_vm._v(\"验证\")])]), _c('div', {\n    staticClass: \"form-group\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.verify_coder),\n      expression: \"verify_coder\"\n    }],\n    attrs: {\n      \"type\": \"number\",\n      \"placeholder\": \"输入您的验证码\"\n    },\n    domProps: {\n      \"value\": (_vm.verify_coder)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.verify_coder = $event.target.value\n      }\n    }\n  })]), _c('div', {\n    staticClass: \"btn-group\"\n  }, [_c('mt-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.doLogin\n    }\n  }, [_vm._v(\"登录\")])], 1)])\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"fu40\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"xCYs\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \"input[data-v-36094241]{width:100%;height:2rem;border:0;padding:0 .5rem}.btn-group[data-v-36094241]{padding:.5rem;margin-top:2.5rem}.form-group[data-v-36094241]{margin-top:.5rem}.mint-button--primary[data-v-36094241]{background:#fee204;width:100%;border-radius:10rem}.form-group-mobile[data-v-36094241]{position:relative}.form-group-mobile .btn-send-verify[data-v-36094241]{position:absolute;top:.25rem;right:.5rem;width:5.5rem;height:1.5rem;line-height:1.5rem;display:block;text-align:center;background:#aaa;color:#fff;border-radius:5px}\", \"\", {\"version\":3,\"sources\":[\"D:/phpStudy/WWW/yingke/frontEnd/weixin/src/views/login/index.vue\"],\"names\":[],\"mappings\":\"AACA,uBACE,WAAY,AACZ,YAAa,AACb,SAAU,AACV,eAAiB,CAClB,AACD,4BACE,cAAe,AACf,iBAAmB,CACpB,AACD,6BACE,gBAAkB,CACnB,AACD,uCACE,mBAAoB,AACpB,WAAY,AACZ,mBAAqB,CACtB,AACD,oCACE,iBAAmB,CACpB,AACD,qDACE,kBAAmB,AACnB,WAAY,AACZ,YAAa,AACb,aAAc,AACd,cAAe,AACf,mBAAoB,AACpB,cAAe,AACf,kBAAmB,AACnB,gBAAiB,AACjB,WAAY,AACZ,iBAAmB,CACpB\",\"file\":\"index.vue\",\"sourcesContent\":[\"\\ninput[data-v-36094241] {\\n  width: 100%;\\n  height: 2rem;\\n  border: 0;\\n  padding: 0 .5rem;\\n}\\n.btn-group[data-v-36094241] {\\n  padding: .5rem;\\n  margin-top: 2.5rem;\\n}\\n.form-group[data-v-36094241] {\\n  margin-top: .5rem;\\n}\\n.mint-button--primary[data-v-36094241] {\\n  background: #fee204;\\n  width: 100%;\\n  border-radius: 10rem;\\n}\\n.form-group-mobile[data-v-36094241] {\\n  position: relative;\\n}\\n.form-group-mobile .btn-send-verify[data-v-36094241] {\\n  position: absolute;\\n  top: .25rem;\\n  right: .5rem;\\n  width: 5.5rem;\\n  height: 1.5rem;\\n  line-height: 1.5rem;\\n  display: block;\\n  text-align: center;\\n  background: #aaa;\\n  color: #fff;\\n  border-radius: 5px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/26.bfe95bb0d0afbd7c896c.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/_css-loader@0.28.5@css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-36094241\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_less-loader@4.0.5@less-loader/dist/cjs.js?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector.js?type=styles&index=0!./index.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/_vue-style-loader@3.0.1@vue-style-loader/lib/addStylesClient.js\")(\"8c4be866\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/_vue-style-loader@3.0.1@vue-style-loader!./~/_css-loader@0.28.5@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@13.0.4@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-36094241\",\"scoped\":true,\"hasInlineConfig\":false}!./~/_less-loader@4.0.5@less-loader/dist/cjs.js?{\"sourceMap\":true}!./~/_vue-loader@13.0.4@vue-loader/lib/selector.js?type=styles&index=0!./src/views/login/index.vue\n// module id = 01zB\n// module chunks = 26","<template lang=\"pug\">\r\n    div.login-index\r\n        div.form-group.form-group-mobile\r\n            input(type=\"number\" v-model=\"mobile\" maxlength=\"11\" placeholder=\"请输入您的手机号码\")\r\n            span.btn-send-verify(@click=\"sendVerify\") 验证\r\n        div.form-group\r\n            input(type=\"number\" v-model=\"verify_coder\" placeholder=\"输入您的验证码\")\r\n        div.btn-group\r\n            mt-button(type=\"primary\" @click=\"doLogin\") 登录\r\n</template>\r\n<script>\r\n    import { Toast, Indicator } from 'mint-ui';\r\n    import queryString from 'queryString'\r\n    // import { $checkAction } from '@/assets/js/fanweUnity';\r\n    export default{\r\n        name: 'loginIndex',\r\n        data() {\r\n            return {\r\n                mobile: '',\r\n                verify_coder: '',\r\n                is_disabled: false,\r\n                code_lefttime: 0,\r\n                sendVerifyText: '验证',\r\n                code_timeer: null\r\n            }\r\n        },\r\n        methods: {\r\n            check() {\r\n                // if($checkAction.checkEmpty(this.mobile)) {\r\n                //     Toast('请输入手机号码');\r\n                //     return false;\r\n                // }\r\n                // if(! $checkAction.checkMobilePhone(this.mobile)) {\r\n                //     Toast('请输入有效的手机号码');\r\n                //     return false;\r\n                // }\r\n                // else if($checkAction.checkEmpty(this.verify_coder)) {\r\n                //     Toast('请输入验证码');\r\n                //     return false;\r\n                // }\r\n                // else {\r\n                //     return true;\r\n                // }\r\n            },\r\n            doLogin() {\r\n                // if(this.check()) {\r\n                    let self = this;\r\n                    Indicator.open();\r\n                    self.axios.post(self.api.mobileLogin(), queryString.stringify({\r\n                        mobile: self.mobile,\r\n                        verify_coder: self.verify_coder\r\n                    })).then(res => {\r\n                        Indicator.close();\r\n                        if(res.data.status == 1) {\r\n                            if(res.data.first_login) { // 用户首次登录，更新信息\r\n                                let ToastObj = Toast(res.data.error);\r\n                                setTimeout(function() {\r\n                                    ToastObj.close();\r\n                                    self.$router.push({\r\n                                        path: '/login/register',\r\n                                        query: {\r\n                                            user_id: res.data.user_id\r\n                                        }\r\n                                    });\r\n                                }, 1000);\r\n                            }\r\n                            else {\r\n                                let instance = Toast(res.data.error || '操作成功');\r\n                                let redirect = decodeURIComponent(self.$route.query.redirect || '/'); // 重定向url\r\n                                setTimeout(() => {\r\n                                    instance.close();\r\n                                    self.$router.push({\r\n                                        path: redirect\r\n                                    });\r\n                                }, 1000);\r\n                            }\r\n                            \r\n                        }\r\n                        else {\r\n                            Toast(res.data.error || '操作失败');\r\n                        }\r\n                    })\r\n                    .catch(err => {\r\n                        console.log(err);\r\n                    });\r\n                // }\r\n            },\r\n            sendVerify() {\r\n                if(this.is_disabled){\r\n                    return; \r\n                }\r\n                this.axios.post(this.api.sendMobileVerify(), queryString.stringify({\r\n                    mobile: this.mobile\r\n                })).then(res => {\r\n                    if(res.data.status == 1){\r\n                        Toast('验证码已发送');\r\n                        // 验证码倒计时\r\n                        this.code_lefttime = 60;\r\n                        this.leftTimeFun();\r\n                    }\r\n                    else{\r\n                        Toast(res.data.error || '请求出错');\r\n                    }\r\n                })\r\n            },\r\n            leftTimeFun() {\r\n                // 验证码倒计时\r\n                clearTimeout(this.code_timeer);\r\n                this.sendVerifyText = `重新发送 ${this.code_lefttime}`;\r\n                this.code_lefttime--;\r\n                if(this.code_lefttime>0){\r\n                    this.is_disabled=true;\r\n                    this.code_timeer = setTimeout(function(){this.leftTimeFun();},1000);\r\n                }\r\n                else{\r\n                    this.code_lefttime = 60;\r\n                    this.is_disabled=false;\r\n                    this.sendVerifyText = \"发送验证码\";\r\n                }\r\n            }\r\n        },\r\n        watch: {\r\n            mobile() {\r\n                // 手机数限制11位\r\n                this.mobile = this.mobile.slice(0,11);\r\n            }\r\n        }\r\n    }\r\n</script>\r\n<style lang=\"less\" scoped>\r\n    input{\r\n        width: 100%;\r\n        height: 2rem;\r\n        border: 0;\r\n        padding: 0 .5rem;\r\n    }\r\n    .btn-group{\r\n        padding: .5rem;\r\n        margin-top: 2.5rem;\r\n    }\r\n    .form-group{\r\n        margin-top: .5rem;\r\n    }\r\n    .mint-button--primary{\r\n        background: #fee204;\r\n        width: 100%;\r\n        border-radius: 10rem;\r\n    }\r\n    .form-group-mobile{\r\n        position: relative;\r\n        .btn-send-verify{\r\n            position: absolute;\r\n            top: .25rem;\r\n            right: .5rem;\r\n            width: 5.5rem;\r\n            height: 1.5rem;\r\n            line-height: 1.5rem;\r\n            display: block;\r\n            text-align: center;\r\n            background: #aaa;\r\n            color: #fff;\r\n            border-radius: 5px;\r\n        }\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/login/index.vue?58f830c4","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-36094241\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-36094241\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/template-compiler/preprocessor?engine=pug!../../../node_modules/_vue-loader@13.0.4@vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-36094241\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/login/index.vue\n// module id = T+/8\n// module chunks = 26","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"login-index\"\n  }, [_c('div', {\n    staticClass: \"form-group form-group-mobile\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.mobile),\n      expression: \"mobile\"\n    }],\n    attrs: {\n      \"type\": \"number\",\n      \"maxlength\": \"11\",\n      \"placeholder\": \"请输入您的手机号码\"\n    },\n    domProps: {\n      \"value\": (_vm.mobile)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.mobile = $event.target.value\n      }\n    }\n  }), _c('span', {\n    staticClass: \"btn-send-verify\",\n    on: {\n      \"click\": _vm.sendVerify\n    }\n  }, [_vm._v(\"验证\")])]), _c('div', {\n    staticClass: \"form-group\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.verify_coder),\n      expression: \"verify_coder\"\n    }],\n    attrs: {\n      \"type\": \"number\",\n      \"placeholder\": \"输入您的验证码\"\n    },\n    domProps: {\n      \"value\": (_vm.verify_coder)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.verify_coder = $event.target.value\n      }\n    }\n  })]), _c('div', {\n    staticClass: \"btn-group\"\n  }, [_c('mt-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.doLogin\n    }\n  }, [_vm._v(\"登录\")])], 1)])\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@13.0.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-36094241\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/_vue-loader@13.0.4@vue-loader/lib/template-compiler/preprocessor.js?engine=pug!./~/_vue-loader@13.0.4@vue-loader/lib/selector.js?type=template&index=0!./src/views/login/index.vue\n// module id = c+GN\n// module chunks = 26","exports = module.exports = require(\"../../../node_modules/_css-loader@0.28.5@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"input[data-v-36094241]{width:100%;height:2rem;border:0;padding:0 .5rem}.btn-group[data-v-36094241]{padding:.5rem;margin-top:2.5rem}.form-group[data-v-36094241]{margin-top:.5rem}.mint-button--primary[data-v-36094241]{background:#fee204;width:100%;border-radius:10rem}.form-group-mobile[data-v-36094241]{position:relative}.form-group-mobile .btn-send-verify[data-v-36094241]{position:absolute;top:.25rem;right:.5rem;width:5.5rem;height:1.5rem;line-height:1.5rem;display:block;text-align:center;background:#aaa;color:#fff;border-radius:5px}\", \"\", {\"version\":3,\"sources\":[\"D:/phpStudy/WWW/yingke/frontEnd/weixin/src/views/login/index.vue\"],\"names\":[],\"mappings\":\"AACA,uBACE,WAAY,AACZ,YAAa,AACb,SAAU,AACV,eAAiB,CAClB,AACD,4BACE,cAAe,AACf,iBAAmB,CACpB,AACD,6BACE,gBAAkB,CACnB,AACD,uCACE,mBAAoB,AACpB,WAAY,AACZ,mBAAqB,CACtB,AACD,oCACE,iBAAmB,CACpB,AACD,qDACE,kBAAmB,AACnB,WAAY,AACZ,YAAa,AACb,aAAc,AACd,cAAe,AACf,mBAAoB,AACpB,cAAe,AACf,kBAAmB,AACnB,gBAAiB,AACjB,WAAY,AACZ,iBAAmB,CACpB\",\"file\":\"index.vue\",\"sourcesContent\":[\"\\ninput[data-v-36094241] {\\n  width: 100%;\\n  height: 2rem;\\n  border: 0;\\n  padding: 0 .5rem;\\n}\\n.btn-group[data-v-36094241] {\\n  padding: .5rem;\\n  margin-top: 2.5rem;\\n}\\n.form-group[data-v-36094241] {\\n  margin-top: .5rem;\\n}\\n.mint-button--primary[data-v-36094241] {\\n  background: #fee204;\\n  width: 100%;\\n  border-radius: 10rem;\\n}\\n.form-group-mobile[data-v-36094241] {\\n  position: relative;\\n}\\n.form-group-mobile .btn-send-verify[data-v-36094241] {\\n  position: absolute;\\n  top: .25rem;\\n  right: .5rem;\\n  width: 5.5rem;\\n  height: 1.5rem;\\n  line-height: 1.5rem;\\n  display: block;\\n  text-align: center;\\n  background: #aaa;\\n  color: #fff;\\n  border-radius: 5px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_css-loader@0.28.5@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@13.0.4@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-36094241\",\"scoped\":true,\"hasInlineConfig\":false}!./~/_less-loader@4.0.5@less-loader/dist/cjs.js?{\"sourceMap\":true}!./~/_vue-loader@13.0.4@vue-loader/lib/selector.js?type=styles&index=0!./src/views/login/index.vue\n// module id = fu40\n// module chunks = 26"],"sourceRoot":""}