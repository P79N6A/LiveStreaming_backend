webpackJsonp([24],{D4n9:function(t,n,e){"use strict";function a(t){e("ZSNP")}Object.defineProperty(n,"__esModule",{value:!0});var o=e("VZV0"),i=e("ttV+"),s=e("J0+h"),r=a,l=s(o.a,i.a,r,null,null);n.default=l.exports},VZV0:function(t,n,e){"use strict";var a=e("34+y"),o=(e.n(a),e("X+yh")),i=e.n(o),s=e("Dd8w"),r=e.n(s),l=e("hYDN"),d=e("bIIf"),c=e("DG/j"),A=e("Xy6p"),u=e("NYxO");n.a={name:"userDedicate",components:{rankList:l.a,nullData:d.a,mintLoadmoreTop:c.a,mintLoadmoreBottom:A.a},beforeRouteEnter:function(t,n,e){e(function(t){t.setFooterBarActiveName("userDedicate"),$(".page-content").scrollTop(0)})},data:function(){return{isLoaded:"",count:"",list:"",page:2,has_next:"",autoFill:!1,allLoaded:!1,topStatus:"",bottomStatus:""}},created:function(){this.getData()},methods:r()({},e.i(u.c)(["setFooterBarActiveName"]),{getData:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this;e.to_user_id=e.$route.query.to_user_id;var a=e.api.userContribution();e.axios.get(a,{params:{user_id:e.to_user_id}}).then(function(t){e.isLoaded=!0,e.count=t.data,e.list=t.data.list,e.page=2,e.has_next=t.data.has_next,e.$nextTick(function(){n&&this.$refs.loadmore.onTopLoaded(),e.$refs.loadmore.onTopLoaded()})}).catch(function(e){i()(e||"网络异常，请求失败"),n&&t.$refs.loadmore.onTopLoaded()})},loadTop:function(t){this.getData(!0)},loadBottom:function(){var t=this;if(!t.has_next)return!1;var n=t.api.userContribution();t.axios.get(n,{params:{page:t.page}}).then(function(n){setTimeout(function(){if(1==n.data.status){if(t.has_next=n.data.has_next,t.page=t.page+1,n.data.list&&n.data.list.length&&n.data.list.length>0)for(var e=0;e<n.data.list.length;e++)t.list.push(n.data.list[e])}else i()(n.data.error||"操作失败");t.$nextTick(function(){t.$refs.loadmore.onBottomLoaded()})},500)}).catch(function(n){i()(n||"网络异常，请求失败"),t.$refs.loadmore.onBottomLoaded()})},btnRank:function(){this.$router.push("/rank/index")},handleTopChange:function(t){this.topStatus=t},handleBottomChange:function(t){this.bottomStatus=t}}),watch:{list:function(){this.allLoaded=!Boolean(this.has_next)}},computed:r()({},e.i(u.d)({appInit:"getAppInit"}))}},ZSNP:function(t,n,e){var a=e("alGL");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);e("XkoO")("61ab0e76",a,!0)},alGL:function(t,n,e){n=t.exports=e("xCYs")(!0),n.push([t.i,".rankList{padding:.5rem .5rem 0;height:100%}.rankList .total{text-align:center;margin-bottom:.5rem;position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.rankList .total .iconfont{font-size:1rem;vertical-align:middle}.rankList .total span{font-size:.6rem}.rankList .total .btn-rank{position:absolute;right:0;font-size:.7rem}","",{version:3,sources:["D:/phpStudy/WWW/yingke/frontEnd/weixin/src/views/user/dedicate.vue"],names:[],mappings:"AAsBA,UACE,sBAAuB,AACvB,WAAa,CACd,AACD,iBACE,kBAAmB,AACnB,oBAAqB,AACrB,kBAAmB,AACnB,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,wBAAyB,AACrB,qBAAsB,AAClB,uBAAwB,AAChC,yBAA0B,AACtB,sBAAuB,AACnB,kBAAoB,CAC7B,AACD,2BACE,eAAgB,AAChB,qBAAuB,CACxB,AACD,sBACE,eAAiB,CAClB,AACD,2BACE,kBAAmB,AACnB,QAAS,AACT,eAAiB,CAClB",file:"dedicate.vue",sourcesContent:["/*界面主题色*/\n/*背景色*/\n/*背景色（深）*/\n/*模块背景色*/\n/*主题风格色*/\n/*主题辅助风格色*/\n/*字体颜色*/\n/*主要字色*/\n/*浅色*/\n/*浅色*/\n/*更浅色（适用：二级标题、简介）*/\n/*更更浅色（适用：icon图标）*/\n/*标题*/\n/*字体大小*/\n/*线条颜色*/\n/*主要线条颜色*/\n/*更深线条颜色*/\n/*更浅线条颜色*/\n/*文本输入框边框颜色*/\n/*各类间距，高度*/\n/*横向间距*/\n/*纵向间距*/\n.rankList {\n  padding: .5rem .5rem 0;\n  height: 100%;\n}\n.rankList .total {\n  text-align: center;\n  margin-bottom: .5rem;\n  position: relative;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.rankList .total .iconfont {\n  font-size: 1rem;\n  vertical-align: middle;\n}\n.rankList .total span {\n  font-size: .6rem;\n}\n.rankList .total .btn-rank {\n  position: absolute;\n  right: 0;\n  font-size: .7rem;\n}\n"],sourceRoot:""}])},"ttV+":function(t,n,e){"use strict";var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"rankList"},[e("div",{staticClass:"total"},[e("i",{staticClass:"icon iconfont"},[t._v("")]),e("span",{domProps:{textContent:t._s(""+t.count.total_num+t.appInit.ticket_name)}}),e("span",{staticClass:"btn-rank",on:{click:t.btnRank}},[t._v("总榜")])]),e("mt-loadmore",{ref:"loadmore",staticClass:"loadmore-rank",attrs:{"top-method":t.loadTop,"bottom-method":t.loadBottom,"bottom-all-loaded":t.allLoaded,autoFill:t.autoFill},on:{"top-status-change":t.handleTopChange,"bottom-status-change":t.handleBottomChange}},[e("mint-loadmore-top",{attrs:{slot:"top",topStatus:t.topStatus},slot:"top"}),e("rank-list",{attrs:{list:t.list,isLoaded:t.isLoaded,allLoaded:t.allLoaded}}),e("mint-loadmore-bottom",{directives:[{name:"show",rawName:"v-show",value:!t.allLoaded,expression:"!allLoaded"}],attrs:{slot:"bottom",bottomStatus:t.bottomStatus},slot:"bottom"})],1)],1)},o=[],i={render:a,staticRenderFns:o};n.a=i}});
//# sourceMappingURL=24.e2cad4ce55e7043a19b3.js.map